* { box-sizing: border-box; }
:root{
  --bg: #0b1220;
  --panel: #0f172a;         /* slate-900 */
  --panel-2: #111827;       /* gray-900 */
  --muted: #94a3b8;         /* slate-400 */
  --border: #1f2937;        /* gray-800 */
  --accent: #3b82f6;        /* blue-500 */
  --accent-600:#2563eb;     /* blue-600 */
  --accent-700:#1d4ed8;     /* blue-700 */
  --success-bg:#052e16; --success:#22c55e;
  --warn-bg:#422006; --warn:#f59e0b;
  --danger-bg:#450a0a; --danger:#f87171;
  --card-shadow: 0 10px 20px -12px rgba(0,0,0,.35), 0 6px 10px -8px rgba(0,0,0,.25);
}
html, body { height: 100%; }
body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  line-height: 1.55;
  color: #e5e7eb;
  background: linear-gradient(180deg, var(--bg), #0e1526 60%, #0b1220);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.container { max-width: 1100px; margin: 0 auto; padding: 28px; }

header { text-align: center; margin-bottom: 28px; }
h1 { margin: 0 0 8px; }
header p { color: var(--muted); margin: 0; }

.hero {
  background: radial-gradient(1200px 500px at 50% -20%, rgba(59,130,246,.15), transparent),
              linear-gradient(180deg, var(--panel), var(--panel-2));
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 20px 22px;
  margin: 18px 0 10px;
  box-shadow: var(--card-shadow);
}
.hero .hero-content h2 { margin: 0 0 6px; letter-spacing: .3px; }
.hero .muted { color: var(--muted); margin: 0 0 12px; }
.hero .hero-points { display: grid; grid-template-columns: repeat(auto-fit, minmax(190px, 1fr)); gap: 10px; }
.hero .point { background: #0b1220; border: 1px solid var(--border); border-radius: 12px; padding: 10px 12px; }
.hero .point strong { display: block; margin-bottom: 2px; }

.uploader {
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 22px;
  margin-bottom: 24px;
  box-shadow: var(--card-shadow);
}

.dropzone {
  position: relative;
  border: 2px dashed var(--accent);
  border-radius: 12px;
  background: rgba(59,130,246,0.08);
  padding: 26px;
  text-align: center;
  color: #bfdbfe;
  margin-bottom: 12px;
  transition: border-color .2s ease, background .2s ease;
}
.dropzone input[type="file"] {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  cursor: pointer;
}
.dropzone:hover{ border-color: var(--accent-600); background: rgba(37,99,235,0.12); }

.btn {
  background: linear-gradient(180deg, var(--accent), var(--accent-600));
  color: white;
  padding: 10px 16px;
  border: 1px solid #1d4ed8;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 600;
  box-shadow: 0 6px 18px -8px rgba(37,99,235,.8);
  transition: transform .08s ease, box-shadow .2s ease, filter .2s ease;
}
.btn:hover { filter: brightness(1.05); box-shadow: 0 10px 22px -10px rgba(37,99,235,.9); }
.btn:active { transform: translateY(1px); }
.btn:disabled { opacity: 0.5; cursor: not-allowed; filter: grayscale(0.2); }

.status { margin-top: 8px; min-height: 20px; color: #86efac; }

.hidden { display: none; }

.results .summary {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 12px;
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 16px;
  margin-bottom: 16px;
  box-shadow: var(--card-shadow);
}

.badge {
  display: inline-block;
  padding: 6px 10px;
  border-radius: 999px;
  background: #e5e7eb18;
  font-weight: 700;
  width: max-content;
  max-width: 100%;
  overflow-wrap: anywhere;
}
.badge.low { background: color-mix(in oklab, #16a34a 22%, transparent); color: #86efac; border: 1px solid #14532d; }
.badge.medium { background: color-mix(in oklab, #f59e0b 22%, transparent); color: #fde68a; border: 1px solid #713f12; }
.badge.high { background: color-mix(in oklab, #ef4444 22%, transparent); color: #fecaca; border: 1px solid #7f1d1d; }

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 16px;
}

.card {
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 14px 16px;
  box-shadow: var(--card-shadow);
  transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease;
}
.card:hover { transform: translateY(-1px); border-color: #334155; }

ul { margin: 8px 0; padding-left: 18px; }
li { margin: 2px 0; }

/* Prevent long content from overflowing cards */
.results .summary div span,
.card li {
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* Make long lists scroll instead of pushing layout */
.card ul {
  max-height: 240px;
  overflow: auto;
}

/* Improve Raw JSON readability */
#rawJson {
  white-space: pre-wrap;
  word-break: break-word;
  max-height: 360px;
  overflow: auto;
  background: #0b1220;
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 12px;
}

footer { text-align: center; margin-top: 28px; color: var(--muted); }

/* Link styles */
header a { color: #93c5fd; text-decoration: none; }
header a:hover { text-decoration: underline; }

/* Table styles */
.table-wrapper {
  overflow: auto;
}
.table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}
.table th, .table td {
  border: 1px solid var(--border);
  padding: 6px 8px;
  text-align: left;
}
.table thead th {
  background: #0b1220;
  position: sticky;
  top: 0;
  z-index: 1;
}
.table tbody tr:nth-child(even) { background: rgba(255,255,255,0.02); }

/* Category colors */
tr.cat-malicious { background: color-mix(in oklab, #ef4444 18%, transparent); }
tr.cat-suspicious { background: color-mix(in oklab, #f59e0b 18%, transparent); }
tr.cat-harmless { background: color-mix(in oklab, #16a34a 14%, transparent); }
tr.cat-undetected { opacity: 0.85; }

/* Details/summary polish */
details { border: 1px solid var(--border); border-radius: 10px; padding: 8px 10px; background: #0b1220; margin-top: 10px; }
details > summary { cursor: pointer; font-weight: 600; color: #cbd5e1; }
details[open] { background: #0c1628; }
details pre { margin: 6px 0 0; }

/* Scrollbar subtle style */
* { scrollbar-width: thin; scrollbar-color: #334155 transparent; }
*::-webkit-scrollbar { height: 8px; width: 8px; }
*::-webkit-scrollbar-thumb { background: #334155; border-radius: 8px; }
*::-webkit-scrollbar-track { background: transparent; }
